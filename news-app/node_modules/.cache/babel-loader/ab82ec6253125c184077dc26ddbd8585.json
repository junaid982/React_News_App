{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/ansar/Desktop/Shreyas Project/kashipara.com_news-app-zip/news-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/ansar/Desktop/Shreyas Project/kashipara.com_news-app-zip/news-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ansar/Desktop/Shreyas Project/kashipara.com_news-app-zip/news-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/ansar/Desktop/Shreyas Project/kashipara.com_news-app-zip/news-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/ansar/Desktop/Shreyas Project/kashipara.com_news-app-zip/news-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ansar\\\\Desktop\\\\Shreyas Project\\\\kashipara.com_news-app-zip\\\\news-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from\"react\";import NewsItems from\"./Newsitems\";import Spinner from\"./Spinner\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);//loading center\n//funtion to capitalize first charactor of word\nfunction News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.handlePrevButton=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://scroll to top\nwindow.scrollTo(0,0);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=\").concat(process.env.REACT_APP_NEWS_API_KEY,\"&page=\").concat(_this.state.page-1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context.next=5;return fetch(url);case 5:data=_context.sent;_context.next=8;return data.json();case 8:parsedData=_context.sent;_this.setState({page:_this.state.page-1,articles:parsedData.articles,loading:false});case 10:case\"end\":return _context.stop();}}},_callee);}));_this.handleNextButton=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://scroll to top\nwindow.scrollTo(0,0);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=\").concat(process.env.REACT_APP_NEWS_API_KEY,\"&page=\").concat(_this.state.page+1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context2.next=5;return fetch(url);case 5:data=_context2.sent;_context2.next=8;return data.json();case 8:parsedData=_context2.sent;_this.setState({page:_this.state.page+1,articles:parsedData.articles,loading:false});case 10:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={articles:[],loading:false,page:1,totalResults:0};//it will change title of an site based on catagory severy time you reload this component\ndocument.title=\"newsApp - \".concat(_this.capitalizeFirstLetter(_this.props.category));return _this;}//it will run after all render method\n_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(process.env.REACT_APP_NEWS_API_KEY,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parsedData=_context3.sent;this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()//funtion to handle next button\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center \",style:{margin:\"35px\"},children:[\"Category - \",this.capitalizeFirstLetter(this.props.category)]}),/*#__PURE__*/_jsx(\"div\",{className:\"rounded mx-auto d-block\",children:this.state.loading&&/*#__PURE__*/_jsx(Spinner,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-2 \",children:/*#__PURE__*/_jsx(NewsItems,{title:element.title,description:element.description,newsUrl:element.url,imgUrl:element.urlToImage,date:element.publishedAt,author:element.author})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:this.state.page<=1,onClick:this.handlePrevButton,className:\"btn btn-dark\",children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),onClick:this.handleNextButton,className:\"btn btn-dark\",children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:\"in\",pageSize:6,category:\"general\"};export default News;","map":{"version":3,"sources":["C:/Users/ansar/Desktop/Shreyas Project/kashipara.com_news-app-zip/news-app/src/components/News.js"],"names":["React","Component","NewsItems","Spinner","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handlePrevButton","window","scrollTo","url","country","category","process","env","REACT_APP_NEWS_API_KEY","state","page","pageSize","setState","loading","fetch","data","json","parsedData","articles","handleNextButton","totalResults","document","title","margin","map","element","description","urlToImage","publishedAt","author","Math","ceil","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport NewsItems from \"./Newsitems\";\r\nimport Spinner from \"./Spinner\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\n\r\nexport class News extends Component {\r\n  //loading center\r\n\r\n  static defaultProps = {\r\n    country: \"in\",\r\n    pageSize: 6,\r\n    category: \"general\",\r\n  };\r\n\r\n  static propTypes = {\r\n    country: PropTypes.string,\r\n    pageSize: PropTypes.number,\r\n    category: PropTypes.string,\r\n  };\r\n\r\n  //funtion to capitalize first charactor of word\r\n  capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      articles: [],\r\n      loading: false,\r\n      page: 1,\r\n      totalResults: 0,\r\n      \r\n    };\r\n    \r\n\r\n    //it will change title of an site based on catagory severy time you reload this component\r\n    document.title = `newsApp - ${this.capitalizeFirstLetter(\r\n      this.props.category\r\n    )}`;\r\n  }\r\n \r\n\r\n\r\n\r\n  //it will run after all render method\r\n  async componentDidMount() {\r\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${process.env.REACT_APP_NEWS_API_KEY}&pageSize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let data = await fetch(url);\r\n    let parsedData = await data.json();\r\n    this.setState({\r\n      articles: parsedData.articles,\r\n      totalResults: parsedData.totalResults,\r\n      loading: false,\r\n    });\r\n    \r\n  }\r\n\r\n\r\n \r\n\r\n  //funtion to handle next button\r\n  handlePrevButton= async () => {\r\n    //scroll to top\r\n    window.scrollTo(0, 0)\r\n\r\n    let url= `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${process.env.REACT_APP_NEWS_API_KEY}&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`\r\n    this.setState({loading: true})\r\n    let data = await fetch(url)\r\n    let parsedData = await data.json()\r\n\r\n    this.setState({\r\n      page: this.state.page - 1,\r\n      articles: parsedData.articles,\r\n      loading: false\r\n    })\r\n  \r\n  }\r\n\r\n  //funtion to handle previous button\r\n  handleNextButton= async () => {\r\n      //scroll to top\r\n      window.scrollTo(0, 0)\r\n    \r\n      let url= `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${process.env.REACT_APP_NEWS_API_KEY}&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`\r\n      this.setState({loading: true})\r\n      let data = await fetch(url)\r\n      let parsedData = await data.json()\r\n\r\n      this.setState({\r\n        page: this.state.page + 1,\r\n        articles: parsedData.articles,\r\n        loading: false\r\n      })\r\n      \r\n    \r\n    \r\n  }\r\n\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h1 className=\"text-center \" style={{ margin: \"35px\" }}>\r\n         Category - {this.capitalizeFirstLetter(this.props.category)}\r\n        </h1>\r\n        <div className=\"rounded mx-auto d-block\">\r\n          {this.state.loading && <Spinner />}\r\n        </div>\r\n       \r\n\r\n       \r\n        <div className=\"row \">\r\n          {this.state.articles.map((element) => {\r\n            return (\r\n              <div className=\"col-md-4 my-2 \" key={element.url}>\r\n                <NewsItems\r\n                  title={element.title}\r\n                  description={element.description}\r\n                  newsUrl={element.url}\r\n                  imgUrl={element.urlToImage}\r\n                  date={element.publishedAt}\r\n                  author={element.author}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n  \r\n        \r\n        {/* next previous buttons */}\r\n        <div className=\"d-flex justify-content-between\">\r\n          <button type=\"button\" disabled={this.state.page<=1} onClick={this.handlePrevButton} className=\"btn btn-dark\">&larr; Previous</button>\r\n          <button type=\"button\" disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} onClick={this.handleNextButton} className=\"btn btn-dark\">Next &rarr;</button>\r\n        </div>\r\n        \r\n\r\n\r\n\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default News;\r\n"]},"metadata":{},"sourceType":"module"}